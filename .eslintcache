[{"D:\\html5+css3\\workspace\\react-admin_client\\src\\index.js":"1","D:\\html5+css3\\workspace\\react-admin_client\\src\\App.jsx":"2","D:\\html5+css3\\workspace\\react-admin_client\\src\\utils\\memoryUtils.js":"3","D:\\html5+css3\\workspace\\react-admin_client\\src\\utils\\storageUtils.js":"4","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\admin\\admin.jsx":"5","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\login\\login.jsx":"6","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\home\\home.jsx":"7","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\category\\category.jsx":"8","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\product.jsx":"9","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\role\\role.jsx":"10","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\charts\\bar.jsx":"11","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\charts\\line.jsx":"12","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\charts\\pie.jsx":"13","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\user\\user.jsx":"14","D:\\html5+css3\\workspace\\react-admin_client\\src\\api\\index.js":"15","D:\\html5+css3\\workspace\\react-admin_client\\src\\components\\header\\index.jsx":"16","D:\\html5+css3\\workspace\\react-admin_client\\src\\components\\left-nav\\index.jsx":"17","D:\\html5+css3\\workspace\\react-admin_client\\src\\utils\\constants.js":"18","D:\\html5+css3\\workspace\\react-admin_client\\src\\utils\\dateUtils.js":"19","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\category\\add-form.jsx":"20","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\category\\update-form.jsx":"21","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\home.jsx":"22","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\add-update.jsx":"23","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\role\\add-form.jsx":"24","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\detail.jsx":"25","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\role\\auth-form.jsx":"26","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\user\\user-form.jsx":"27","D:\\html5+css3\\workspace\\react-admin_client\\src\\api\\ajax.js":"28","D:\\html5+css3\\workspace\\react-admin_client\\src\\config\\menuConfig.js":"29","D:\\html5+css3\\workspace\\react-admin_client\\src\\components\\link-button\\index.jsx":"30","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\rich-text-editor.jsx":"31","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\picuture-wall.jsx":"32","D:\\html5+css3\\workspace\\react-admin_client\\src\\redux\\store.js":"33","D:\\html5+css3\\workspace\\react-admin_client\\src\\redux\\reducer.js":"34"},{"size":433,"mtime":1676305651670,"results":"35","hashOfConfig":"36"},{"size":483,"mtime":1675953195308,"results":"37","hashOfConfig":"36"},{"size":52,"mtime":1675953195751,"results":"38","hashOfConfig":"36"},{"size":460,"mtime":1675953195752,"results":"39","hashOfConfig":"36"},{"size":1819,"mtime":1675953195427,"results":"40","hashOfConfig":"36"},{"size":3936,"mtime":1675953195620,"results":"41","hashOfConfig":"36"},{"size":247,"mtime":1675953195466,"results":"42","hashOfConfig":"36"},{"size":5151,"mtime":1675953195450,"results":"43","hashOfConfig":"36"},{"size":616,"mtime":1675953195678,"results":"44","hashOfConfig":"36"},{"size":4708,"mtime":1675953195714,"results":"45","hashOfConfig":"36"},{"size":155,"mtime":1675953195454,"results":"46","hashOfConfig":"36"},{"size":157,"mtime":1675953195455,"results":"47","hashOfConfig":"36"},{"size":158,"mtime":1675953195457,"results":"48","hashOfConfig":"36"},{"size":3875,"mtime":1675953195739,"results":"49","hashOfConfig":"36"},{"size":3041,"mtime":1675953195336,"results":"50","hashOfConfig":"36"},{"size":2449,"mtime":1675953195414,"results":"51","hashOfConfig":"36"},{"size":4099,"mtime":1675953195419,"results":"52","hashOfConfig":"36"},{"size":89,"mtime":1675953195741,"results":"53","hashOfConfig":"36"},{"size":254,"mtime":1675953195751,"results":"54","hashOfConfig":"36"},{"size":1475,"mtime":1675953195438,"results":"55","hashOfConfig":"36"},{"size":1008,"mtime":1675953195452,"results":"56","hashOfConfig":"36"},{"size":4289,"mtime":1675953195663,"results":"57","hashOfConfig":"36"},{"size":7387,"mtime":1675953195639,"results":"58","hashOfConfig":"36"},{"size":1012,"mtime":1675953195696,"results":"59","hashOfConfig":"36"},{"size":3028,"mtime":1675953195661,"results":"60","hashOfConfig":"36"},{"size":2873,"mtime":1675953195713,"results":"61","hashOfConfig":"36"},{"size":2350,"mtime":1675953195727,"results":"62","hashOfConfig":"36"},{"size":502,"mtime":1675953195328,"results":"63","hashOfConfig":"36"},{"size":1017,"mtime":1675953195423,"results":"64","hashOfConfig":"36"},{"size":177,"mtime":1675953195421,"results":"65","hashOfConfig":"36"},{"size":2308,"mtime":1675953195695,"results":"66","hashOfConfig":"36"},{"size":3150,"mtime":1675953195677,"results":"67","hashOfConfig":"36"},{"size":266,"mtime":1676305845294,"results":"68","hashOfConfig":"36"},{"size":462,"mtime":1676305170380,"results":"69","hashOfConfig":"36"},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"130ca4n",{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"107","messages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"109","messages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"76"},{"filePath":"114","messages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"116","messages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"76"},{"filePath":"119","messages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"121","messages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"123","messages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"76"},{"filePath":"126","messages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"128","messages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"130","messages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"132","messages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"134","messages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"136","messages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"138","messages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},"D:\\html5+css3\\workspace\\react-admin_client\\src\\index.js",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\App.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\utils\\memoryUtils.js",[],["142","143"],"D:\\html5+css3\\workspace\\react-admin_client\\src\\utils\\storageUtils.js",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\admin\\admin.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\login\\login.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\home\\home.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\category\\category.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\product.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\role\\role.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\charts\\bar.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\charts\\line.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\charts\\pie.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\user\\user.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\api\\index.js",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\components\\header\\index.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\components\\left-nav\\index.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\utils\\constants.js",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\utils\\dateUtils.js",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\category\\add-form.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\category\\update-form.jsx",["144"],"import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  Form,\r\n  Select,\r\n  Input\r\n} from 'antd'\r\n\r\n\r\nconst Item = Form.Item\r\nconst Option = Select.Option\r\n\r\nclass UpdateForm extends Component {\r\n\r\n  static propTypes = {\r\n    categoryName: PropTypes.string.isRequired,\r\n    setForm: PropTypes.func.isRequired\r\n  }\r\n\r\n  UNSAFE_componentWillMount() {\r\n    this.props.setForm(this.props.form)\r\n  }\r\n\r\n  render() {\r\n    const {categoryName} = this.props\r\n    const {getFieldDecorator} = this.props.form\r\n    return (\r\n      <Form>\r\n        <Item>\r\n          {\r\n            getFieldDecorator('categoryName', {\r\n              initialValue: categoryName,\r\n              rules: [\r\n                {required: true, message: '分类名称必须输入'}\r\n              ]\r\n            })(\r\n              <Input placeholder='请输入分类名称' />\r\n            )\r\n          }     \r\n        </Item>           \r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Form.create()(UpdateForm)\r\n","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\home.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\add-update.jsx",["145","146"],"import React, { PureComponent } from 'react'\r\nimport { Card, Form, Input, Cascader, Upload, Button, Icon, message } from 'antd'\r\nimport PicturesWall from './picuture-wall'\r\nimport RichTextEditor from './rich-text-editor'\r\nimport LinkButton from '../../components/link-button'\r\nimport {reqCategorys, reqAddOrUpdateProduct} from '../../api'\r\n\r\nconst { Item } = Form\r\nconst { TextArea } = Input\r\n\r\nclass ProductAddUpdate extends PureComponent {\r\n\r\n  state = {\r\n    options: [],\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.pw = React.createRef()\r\n    this.editor = React.createRef()\r\n  }\r\n\r\n  initOptions = async(categorys) => {\r\n    const options = categorys.map(c => ({\r\n      value: c._id,\r\n      label: c.name,\r\n      isLeaf: false,\r\n    }))\r\n\r\n    const { isUpdate, product } = this\r\n    const { pCategoryId, categoryId } = product\r\n    if (isUpdate && pCategoryId !== '0') {\r\n      const subCategorys = await this.getCategorys(pCategoryId)\r\n      const childOptions = subCategorys.map(c => ({\r\n        value: c._id,\r\n        label: c.name,\r\n        isLeaf: true,\r\n      }))\r\n      const targetOption = options.find(option => option.value===pCategoryId)\r\n      targetOption.children = childOptions\r\n    }\r\n\r\n    this.setState({options})\r\n  }\r\n\r\n  getCategorys = async(parentId) => {\r\n    const result = await reqCategorys(parentId)\r\n    // debugger\r\n    if (result.status === 0) {\r\n      const categorys = result.data\r\n      if (parentId === '0') {\r\n        this.initOptions(categorys)\r\n      } else {\r\n        return categorys\r\n      }    \r\n    }\r\n  }\r\n\r\n  validatePrice = (rule, value, callback) => {\r\n    console.log(value, typeof value)\r\n    if (value*1 > 0) {\r\n      callback()\r\n    } else {\r\n      callback('价格必须大于0')\r\n    } \r\n  }\r\n\r\n  loadData = async selectedOptions => {\r\n    const targetOption = selectedOptions[0]\r\n    console.log('targetOption: ',targetOption);\r\n    targetOption.loading = true\r\n\r\n    const subCategorys = await this.getCategorys(targetOption.value)\r\n    console.log('subCategorys: ', subCategorys);\r\n    targetOption.loading = false\r\n    if (subCategorys && subCategorys.length > 0) {\r\n      const childOptions = subCategorys.map(c => ({\r\n        value: c._id,\r\n        label: c.name,\r\n        isLeaf: true,\r\n      }))   \r\n      targetOption.children = childOptions\r\n    } else {\r\n      targetOption.isLeaf = true\r\n    }\r\n\r\n    this.setState({\r\n      options: [...this.state.options],\r\n    })\r\n\r\n    // load options lazily\r\n    // setTimeout(() => {\r\n    //   targetOption.loading = false\r\n    //   targetOption.children = [\r\n    //     {\r\n    //       label: `${targetOption.label} Dynamic 1`,\r\n    //       value: 'dynamic1',\r\n    //       isLeaf: true\r\n    //     },\r\n    //     {\r\n    //       label: `${targetOption.label} Dynamic 2`,\r\n    //       value: 'dynamic2',\r\n    //       isLeaf: true\r\n    //     },\r\n    //   ]\r\n    //   this.setState({\r\n    //     options: [...this.state.options],\r\n    //   })\r\n    // }, 1000)\r\n  }\r\n\r\n  submit = () => {\r\n    this.props.form.validateFields(async(error, values) => {\r\n      if (!error) {\r\n        const { name, desc, price, categoryIds } = values\r\n        let pCategoryId, categoryId\r\n        if (categoryIds.length === 1) {\r\n          pCategoryId = '0'\r\n          categoryId = categoryIds[0]\r\n        } else {\r\n          pCategoryId = categoryIds[0]\r\n          categoryId = categoryIds[1]\r\n        }\r\n        const imgs = this.pw.current.getImages()\r\n        const detail = this.editor.current.getDetail()\r\n\r\n        const product = {name, desc, price, pCategoryId, categoryId, imgs, detail}\r\n        if (this.isUpdate) {\r\n          product._id = this.product._id\r\n        }\r\n\r\n        const result = await reqAddOrUpdateProduct(product)\r\n        if (result.status === 0) {\r\n          message.success(`${this.isUpdate ? '更新' : '添加'}商品成功!`)\r\n          this.props.history.goBack()\r\n        } else {\r\n          message.error(`${this.isUpdate ? '更新' : '添加'}商品失败!`)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.getCategorys('0')\r\n  }\r\n\r\n  UNSAFE_componentWillMount() {\r\n    const product = this.props.location.state\r\n    this.isUpdate = !!product\r\n    this.product = product || {}\r\n  }\r\n  \r\n  render() {\r\n\r\n    const { isUpdate, product } = this\r\n    const {pCategoryId, categoryId, imgs, detail} = product \r\n    const categoryIds = []\r\n    if (isUpdate) {\r\n      if (pCategoryId === '0') {\r\n        categoryIds.push(categoryId)\r\n      } else {\r\n        categoryIds.push(pCategoryId)    \r\n        categoryIds.push(categoryId)\r\n      }        \r\n    }\r\n    \r\n    const title = (\r\n      <span>\r\n        <LinkButton onClick={() => this.props.history.goBack()}>\r\n          <Icon type=\"arrow-left\" style={{fontSize: 20}} />\r\n        </LinkButton>\r\n        <span>{isUpdate ? '修改商品' : '添加商品'}</span>\r\n      </span>\r\n    )\r\n\r\n    const formItemLayout = {\r\n      labelCol: {span: 2},\r\n      wrapperCol: {span: 8},\r\n    }\r\n\r\n    const { getFieldDecorator } = this.props.form\r\n\r\n    return (\r\n      <Card title={title}>\r\n        <Form {...formItemLayout}>\r\n          <Item label=\"商品名称\">\r\n            {\r\n              getFieldDecorator('name', {\r\n                initialValue: product.name,\r\n                rules: [\r\n                  {required: true, message: '必须输入商品名称'}\r\n                ]\r\n              })(<Input placeholder='请输入商品名称' />)\r\n            }\r\n          </Item>\r\n          <Item label=\"商品描述\">\r\n          {\r\n              getFieldDecorator('desc', {\r\n                initialValue: product.desc,\r\n                rules: [\r\n                  {required: true, message: '必须输入商品描述'}\r\n                ]\r\n              })(<TextArea placeholder=\"请输入商品描述\" autoSize={{ minRows: 2, maxRows: 6 }} />)\r\n            }          \r\n          </Item>\r\n          <Item label=\"商品价格\">\r\n          {\r\n              getFieldDecorator('price', {\r\n                initialValue: product.price,\r\n                rules: [\r\n                  { required: true, message: '必须输入商品价格' },\r\n                  {validator: this.validatePrice}\r\n                ]\r\n              })( <Input type='number' placeholder='请输入商品价格' addonAfter='元'/>)\r\n            }            \r\n          </Item>\r\n          <Item label=\"商品分类\">\r\n          {\r\n              getFieldDecorator('categoryIds', {\r\n                initialValue: categoryIds,\r\n                rules: [\r\n                  { required: true, message: '必须指定商品分类' },\r\n                ]\r\n              })(\r\n                <Cascader\r\n                  placeholder='请指定商品分类'\r\n                  options={this.state.options}\r\n                  loadData={this.loadData}\r\n                />\r\n              )\r\n            } \r\n           \r\n          </Item>\r\n          <Item label=\"商品图片\">\r\n            <PicturesWall ref={this.pw} imgs={imgs} />\r\n          </Item>\r\n          <Item label=\"商品详情\" labelCol={{span: 2}} wrapperCol={{span: 20}} >\r\n            <RichTextEditor ref={this.editor} detail={detail} />\r\n          </Item>\r\n          <Item>\r\n            <Button type='primary' onClick={this.submit}>提交</Button>\r\n          </Item>\r\n        </Form>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Form.create()(ProductAddUpdate)\r\n","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\role\\add-form.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\detail.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\role\\auth-form.jsx",["147","148"],"import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  Form,\r\n  Input,\r\n  Tree\r\n} from 'antd'\r\nimport menuList from '../../config/menuConfig'\r\n\r\nconst Item = Form.Item\r\nconst { TreeNode } = Tree;\r\n\r\nconst treeData = [\r\n  {\r\n    title: '0-0',\r\n    key: '0-0',\r\n    children: [\r\n      {\r\n        title: '0-0-0',\r\n        key: '0-0-0',\r\n        children: [\r\n          { title: '0-0-0-0', key: '0-0-0-0' },\r\n          { title: '0-0-0-1', key: '0-0-0-1' },\r\n          { title: '0-0-0-2', key: '0-0-0-2' },\r\n        ],\r\n      },\r\n      {\r\n        title: '0-0-1',\r\n        key: '0-0-1',\r\n        children: [\r\n          { title: '0-0-1-0', key: '0-0-1-0' },\r\n          { title: '0-0-1-1', key: '0-0-1-1' },\r\n          { title: '0-0-1-2', key: '0-0-1-2' },\r\n        ],\r\n      },\r\n      {\r\n        title: '0-0-2',\r\n        key: '0-0-2',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    title: '0-1',\r\n    key: '0-1',\r\n    children: [\r\n      { title: '0-1-0-0', key: '0-1-0-0' },\r\n      { title: '0-1-0-1', key: '0-1-0-1' },\r\n      { title: '0-1-0-2', key: '0-1-0-2' },\r\n    ],\r\n  },\r\n  {\r\n    title: '0-2',\r\n    key: '0-2',\r\n  },\r\n];\r\n\r\nexport default class AuthForm extends PureComponent {\r\n\r\n  static propTypes = {\r\n    role: PropTypes.object\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {menus} = this.props.role\r\n    this.state = {\r\n      checkedKeys: menus\r\n    }\r\n  }\r\n\r\n  getMenus = () => this.state.checkedKeys\r\n  \r\n  getTreeNodes = (menuList) => {\r\n    return menuList.reduce((pre, item) => {\r\n      pre.push(\r\n        <TreeNode title={item.title} key={item.key}>\r\n          {item.children ? this.getTreeNodes(item.children) : null}\r\n        </TreeNode>\r\n      )\r\n      return pre\r\n    }, [])  \r\n  }\r\n\r\n  onCheck = checkedKeys => {\r\n    console.log('onCheck', checkedKeys);\r\n    this.setState({ checkedKeys });\r\n  };\r\n  \r\n  UNSAFE_componentWillMount() {\r\n    this.treeNodes = this.getTreeNodes(menuList)\r\n\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    console.log('UNSAFE_componentWillReceiveProps()', nextProps);\r\n    const menus = nextProps.role.menus\r\n    // this.setState({\r\n    //   checkedKeys: menus\r\n    // })\r\n    this.state.checkedKeys = menus\r\n  }\r\n\r\n  render() {  \r\n    console.log('AuthForm render()');\r\n    const {role} = this.props\r\n\r\n    const formItemLayout = {\r\n      labelCol: {span: 4},\r\n      wrapperCol: {span: 15},\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Item label=\"角色名称\" {...formItemLayout}>\r\n          <Input value={role.name} disabled/>       \r\n        </Item>   \r\n        <Tree\r\n          checkable\r\n          defaultExpandAll={true}\r\n          checkedKeys={this.state.checkedKeys}\r\n          onCheck={this.onCheck}\r\n        >\r\n          <TreeNode title=\"平台权限\" key=\"all\">\r\n            {this.treeNodes}\r\n        </TreeNode>\r\n      </Tree>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\user\\user-form.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\api\\ajax.js",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\config\\menuConfig.js",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\components\\link-button\\index.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\rich-text-editor.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\pages\\product\\picuture-wall.jsx",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\redux\\store.js",[],"D:\\html5+css3\\workspace\\react-admin_client\\src\\redux\\reducer.js",[],{"ruleId":"149","replacedBy":"150"},{"ruleId":"151","replacedBy":"152"},{"ruleId":"153","severity":1,"message":"154","line":11,"column":7,"nodeType":"155","messageId":"156","endLine":11,"endColumn":13},{"ruleId":"153","severity":1,"message":"157","line":2,"column":39,"nodeType":"155","messageId":"156","endLine":2,"endColumn":45},{"ruleId":"153","severity":1,"message":"158","line":32,"column":26,"nodeType":"155","messageId":"156","endLine":32,"endColumn":36},{"ruleId":"153","severity":1,"message":"159","line":13,"column":7,"nodeType":"155","messageId":"156","endLine":13,"endColumn":15},{"ruleId":"160","severity":1,"message":"161","line":101,"column":5,"nodeType":"162","messageId":"163","endLine":101,"endColumn":15},"no-native-reassign",["164"],"no-negated-in-lhs",["165"],"no-unused-vars","'Option' is assigned a value but never used.","Identifier","unusedVar","'Upload' is defined but never used.","'categoryId' is assigned a value but never used.","'treeData' is assigned a value but never used.","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","noDirectMutation","no-global-assign","no-unsafe-negation"]